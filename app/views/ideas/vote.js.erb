document.getElementById("star-idea-<%=@idea.id %>").setAttribute("fill", "<%= @voting.voted_for?(@idea) ? "#312783" : "" %>")
document.getElementById("star-idea-<%=@idea.id %>").closest("svg").classList.toggle("animate-ping-once")
currentUser.votesCastIdeas.delete(<%= @idea.id %>) || currentUser.votesCastIdeas.add(<%= @idea.id %>)

<% votes_cast_count = @voting.votes_cast_count %>
<% Session::Voting::MAX_VOTES_PER_SESSION.times do |vote_index| %>
  document.getElementsByClassName("starVoteFill")[<%= vote_index %>].setAttribute("fill", "<%= vote_index >= votes_cast_count ? "#FFFFFF" : "" %>")
<% end %>

changeHeadlineAccordingToVotesLeft('<%= votes_cast_count %>', '<%= Session::Voting::MAX_VOTES_PER_SESSION %>')
