document.getElementById("star-idea-<%=@idea.id %>").setAttribute("fill", "<%= @voting.voted_for?(@idea) ? "#312783" : "" %>")
document.getElementById("star-idea-<%=@idea.id %>").closest("svg").classList.toggle("animate-ping-once")
currentUser.votesCastIdeas.delete(<%= @idea.id %>) || currentUser.votesCastIdeas.add(<%= @idea.id %>)

<% @voting.each_available_vote do |vote| %>
  document.getElementsByClassName("starVoteFill")[<%= vote.index %>].setAttribute("fill", "<%= vote.used? ? "#FFFFFF" : "" %>")
<% end %>

changeHeadlineAccordingToVotesLeft('<%= @voting.votes_cast_count %>', '<%= Session::Voting::MAX_VOTES_PER_SESSION %>')
